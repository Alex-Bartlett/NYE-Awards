# Database Schema

The API uses Postgres for its database, and makes use of Knex toquery it. All querying is handled by the api. To create your own, simply run the create script in your Postgres database.

Define the database as following:

## Categories table
```sql
create table
  public.categories (
    id bigint generated by default as identity,
    name character varying null,
    constraint categories_pkey primary key (id)
  ) tablespace pg_default;
```
## People table
```sql
create table
  public.people (
    id bigint generated by default as identity,
    name character varying not null,
    constraint people_pkey primary key (id)
  ) tablespace pg_default;
```
## Quote_categories table
```sql
create table
  public.quote_categories (
    id bigint generated by default as identity,
    quote_id bigint null,
    category_id bigint null,
    constraint quote_categories_pkey primary key (id),
    constraint quote_categories_category_id_fkey foreign key (category_id) references categories (id) on update cascade on delete cascade,
    constraint quote_categories_quote_id_fkey foreign key (quote_id) references quotes (id) on update cascade on delete cascade
  ) tablespace pg_default;
```

## Quote_people table
```sql
create table
  public.quote_people (
    id bigint generated by default as identity,
    quote_id bigint null,
    person_id bigint null,
    constraint quote_people_pkey primary key (id),
    constraint quote_people_person_id_fkey foreign key (person_id) references people (id) on update cascade on delete cascade,
    constraint quote_people_quote_id_fkey foreign key (quote_id) references quotes (id) on update cascade on delete cascade
  ) tablespace pg_default;
```

## Quotes table
```sql
create table
  public.quotes (
    id bigint generated by default as identity,
    content character varying null,
    constraint quotes_pkey primary key (id)
  ) tablespace pg_default;
```